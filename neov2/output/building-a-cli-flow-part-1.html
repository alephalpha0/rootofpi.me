<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="alephalpha0">
  <meta name="description" content="Posts and writings by alephalpha0">
  <title>
    aa0.rootofpi.v2
&ndash; Building a <span class="caps">CLI</span> flow part&nbsp;1  </title>

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/theme/images/logo.png">

  <link rel="stylesheet" type="text/css" href="/theme/css/all.css">
  <link rel="stylesheet" type="text/css" href="/theme/css/custom.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  
<meta name="keywords" content="geek me good, command line gazing, terminal blues">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
<nav>
  <h1>Hi.</h1>
  <a href="/">
    <img src="/theme/images/logo.png" id="gravatar" alt="My photo"/>
  </a>
  <h2><a href="/">I'm alephalpha0</a></h2>

  <div id="bio">
    <p></p>
  </div>

  <div id="social">
Follow me:
<div id="stalker">





























</div>  </div>

  <div id="tags">
    <ul>
      <li><a href="/pages/links.html">Links</a></li>
      <li><a href="http://rootofpi.me" target="_blank">rootofpi.me<span style="font-size: 0.7em">&#8599;</span> </a></li>
      <li><a href="https://neocities.org" target="_blank">Neocities.org<span style="font-size: 0.7em">&#8599;</span> </a></li>
      </ul>
  </div>
</nav>    </div>

    <div class="eleven columns content">
  <p class="meta">
    10 November 2020
    <a href="/">
      <i class="home fa fa-home"></i>
    </a>
  </p>

  <h1 class="title"><a href="/building-a-cli-flow-part-1.html">Building a <span class="caps">CLI</span> flow part&nbsp;1</a></h1>
  
  <div class="article_text" id="post">
    <h1>Building a cli program flow in order to archive a single webpage or&nbsp;article.</h1>
<h3>The problem to be&nbsp;solved:</h3>
<blockquote>
<p>I have a desire to be able to, through the command line, download a single webpage into a self-contained <code>.html</code> file with the option to convert it to (or save alongside) other formats such as <code>PDF</code>, <code>EPUB</code>, or even <code>md</code> if possible. There are <strong>two</strong> main use-cases I want to offer: 1) get the entire webpage, strip out the ads/useless shit, and save the new version locally <span class="amp">&amp;</span> 2) for journal/website articles, blog entries, or tutorials: simply save the main content and discard every other element from the&nbsp;source. </p>
</blockquote>
<h3>The initial idea for&nbsp;solution:</h3>
<p>A bash script that takes in a <span class="caps">URL</span> and, through menu redirection, outputs the desired file(s) into a standard&nbsp;directory. </p>
<h3>Why not use currently available&nbsp;methods:</h3>
<p>I&#8217;ve come across quite a few programs and scripts that seem like they would be perfect for what I want to do, but unfortunately I&#8217;m using termux on an Android and most of them do not work for one reason or the other in this&nbsp;enviromment.  </p>
<h6>CLIs that I have tried with no luck to get working on&nbsp;Termux:</h6>
<ul>
<li><code>hget</code> - <a href="https://github.com/bevacqua/hget">hget</a> </li>
<li><code>monolith</code> - <a href="https://github.com/Y2Z/monolith">monolith</a></li>
<li><code>erised</code> - <a href="https://github.com/marvelm/erised">erised</a> </li>
<li><code>percollate</code> - <a href="https://github.com/danburzo/percollate">percollate</a></li>
<li><code>ferret</code> - <a href="https://github.com/MontFerret/ferret">ferret</a> </li>
</ul>
<h3>The semi-focused detailing of my initial mind&nbsp;thoughts:</h3>
<p>So, I feel like my grasp of scripting and pipelines is decent enough to cobble together a functioning bash script using programs and sources at my disposal that should take care of what I want to do. Namely, a locally saved, single file <code>.html</code> and have the option/ability to convert to <code>PDF</code>, <code>md</code>, or <code>EPUB</code> if desired. In my mind, there will be several working pieces of this script that could and should be broken down into smaller modules\functions&nbsp;. </p>
<p>I&#8217;m designing and planning on a menu-driven interface so creating menu-building and menu-displaying functions will be two individual tasks. Directory checking, creation, and manipulation should be another set of tasks. Error handling, logging and graceful failures are another set. And finally, the actual downloading and parsing into files will be a set of&nbsp;functions. </p>
<p>I&#8217;m aware that bash scripting might not be the optimal route to go with this idea, due to processing times, data handling and manipulation, and the fact that other languages come with the advantage of libraries and support modules that cover just about every detail and &#8220;feature&#8221; I could possibly come up against. However, it will serve as a basis for laying out the flow and main ideas of what I want my script to do as well as help prototype and get a working product to use as proof of&nbsp;concept. </p>
<p>From the get-go, there are several options that I can and will be utilizing to achieve my end-goal. I&#8217;m hoping that using and offering several options of methods will not over-complicate the road ahead. The ability to write code that can be easily extended and has the ability to easily have options added to it is something that I am working towards. The thought that I should focus on one (one method for obtaining the webpage, one method for processing the downloaded data, one method for saving, and one method for file conversion) is there, and it has validity. However, I am blockheaded when it comes to ambitions, and throwing caution to the wind is the name of the game right&nbsp;now. </p>
<h6>Options in consideration for scraping/downloading/getting&nbsp;source:</h6>
<ul>
<li><code>wget</code> </li>
<li><code>cURL</code> </li>
<li><code>httpie</code> </li>
<li><code>ferret</code> </li>
<li><code>w3m</code> </li>
</ul>
<p>This is as far as I have gotten, planning and layout wise. The next part of this session of brain-vomitting will cover the logic trains, process flow, and possible ways of brainstorming the layout of the&nbsp;script. </p>
<h4><span class="caps">TODO</span>:</h4>
<ul>
<li>research the methods of using <code>ferret</code> to scrape websites and obtain the&nbsp;contents. </li>
<li>look into flags and options of <code>wget</code> <code>cURL</code> <code>httpie</code> and <code>w3m</code>. </li>
<li>Sketch out the menus and brainstorm ways for it to&nbsp;work.</li>
<li>For processing&#8230; <span class="caps">HTML2JSON</span>? <span class="caps">HTML2MD</span>? <span class="caps">HTML2</span>????? </li>
<li>File conversion should be <span class="caps">PANDOC</span>, but of course, the perfect tool doesn&#8217;t work under&nbsp;termux. </li>
</ul>
  </div>

  <div class="article_meta related">
    <h3>Category: </h3>
    <span><a href="/category/blog.html">Blog</span>
    
    <h3>Tags:</h3>
    <span>
      <a href="/tag/geek-me-good.html">geek me good</a>,      <a href="/tag/command-line-gazing.html">command line gazing</a>,      <a href="/tag/terminal-blues.html">terminal blues</a>    </span>
  </div>



      <div class="footer">
<div class="disclaimer">
  
    <p>
      Â© alephalpha0,  &mdash; built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="https://github.com/karambir/taman" target="_blank">Taman</a>, a port of jekyll theme <a href="https://github.com/swanson/lagom" target="_blank">Lagom</a>.
    </p>
  </div>      </div>
    </div>
  </div>

</body>
</html>